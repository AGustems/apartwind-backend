(this["webpackJsonpapartwind-frontend"]=this["webpackJsonpapartwind-frontend"]||[]).push([[0],{28:function(e,t,a){},29:function(e,t,a){},38:function(e,t,a){},57:function(e,t,a){e.exports=a(89)},62:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),o=(a(62),a(8)),s=a(9),i=(a(28),a(6)),m=(a(29),function(e){return r.a.createElement("div",{className:e.buttonClass},r.a.createElement(i.b,{to:e.routeText},e.buttonText))}),u=(a(38),function(e){return r.a.createElement("article",{className:"feature"},r.a.createElement("div",{className:"feature-icon"},r.a.createElement("img",{src:e.image,alt:e.alt})),r.a.createElement("div",{className:"feature=text"},r.a.createElement("h3",null,r.a.createElement("b",null,e.featureTitle)),r.a.createElement("p",null,e.featureText)))}),p=a(3),f=a(4),d=function(e){return r.a.createElement("main",null,r.a.createElement("section",{className:"container-intro"},r.a.createElement("h2",null,"Welcome to"),r.a.createElement("h1",null,"Roomer"),r.a.createElement("h3",null,"Are you looking for your perfect flatshare?"),r.a.createElement("p",null,"Create an account or log in to contact ads, save your favourites, and much more"),r.a.createElement("div",{className:"button-containerh"},r.a.createElement(m,{buttonClass:"button-white",routeText:"/auth/signup",buttonText:"Sign up"}),r.a.createElement(m,{buttonClass:"button-white",routeText:"/auth/login",buttonText:"Log in"})),r.a.createElement("p",{className:"scroll-call"},"Scroll down to know more ",r.a.createElement(p.a,{icon:f.n.faArrowDown}))),r.a.createElement("section",{className:"container-features"},r.a.createElement("h1",null,"Why Roomer?"),r.a.createElement("div",{className:"features-h"},r.a.createElement(u,{image:"/images/clock.png",alt:"time",featureTitle:"FAST AND SIMPLE",featureText:"You will be able to find your ideal roomie and a flat that matches your specific needs in an easy and fast way."}),r.a.createElement(u,{image:"/images/check.png",alt:"trust",featureTitle:"TRUSTWORTHY",featureText:"Contact directly with the interested parties. Chat with your new roomie directly and get to know him/her."}),r.a.createElement(u,{image:"/images/personalized.png",alt:"personalized",featureTitle:"PERSONALIZED",featureText:"Filter by location, price, range,bedroom count, pet-friendly and save your favourites so that you don't miss your opportunity."}))),r.a.createElement("section",{className:"container-callact"},r.a.createElement("h2",null,"Start searching for your ideal roommate"),r.a.createElement("div",{className:"button-containerv"},r.a.createElement(m,{buttonClass:"button-dark",routeText:"/rooms",buttonText:"Search for a room"}),r.a.createElement(m,{buttonClass:"button-light",routeText:"/rooms/add",buttonText:"Publish a room"}))))},E=a(11),h=a(1),b=a(7),g=a.n(b),v=function(e){return r.a.createElement("div",{className:"container-login"},r.a.createElement("section",{className:"banner-form"},r.a.createElement("div",{className:"banner-headding"},r.a.createElement("div",{className:"form-logo"},r.a.createElement("img",{alt:"roomer-logo",src:"/images/LogoRoomer-blue.png"})),r.a.createElement("div",{className:"form-title"},r.a.createElement("h1",null,e.title),r.a.createElement("h3",null,e.subtitle))),e.content),e.secondaryTitle?r.a.createElement("h3",null,e.secondaryTitle):null,e.secondaryContent,r.a.createElement("img",{alt:"drawing",src:e.image}),e.littleInfo)},N=function(e){return r.a.createElement("div",{className:"input-text-bg"},r.a.createElement("input",{className:"input-text",type:e.type,name:e.name,placeholder:e.placeholder,value:e.value,onChange:e.onChange}))},O=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(o.a)(t,2),c=a[0],l=a[1],s=function(e){var t=e.target;l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(E.a)({},t.name,t.value))}))};return r.a.createElement(v,{title:"Hello!",subtitle:"Nice to see you again!",secondaryTitle:"Log in with your credentials",secondaryContent:r.a.createElement("form",{className:"login-form",onSubmit:function(t){t.preventDefault();var a=c.email,n=c.password;g.a.post("".concat("https://roomer-app.herokuapp.com/","/auth/login"),{email:a,password:n},{withCredentials:!0}).then((function(t){e.setUserSession(t.data),e.history.push("/userprofile/"+t.data._id)})).catch((function(e){return l((function(t){return Object(h.a)(Object(h.a)({},t),{},{errorMessage:e.response.data.message})}))}))}},r.a.createElement(N,{type:"text",name:"email",placeholder:"Email",value:c.email,onChange:function(e){return s(e)}}),r.a.createElement(N,{placeholder:"Password",type:"password",name:"password",value:c.password,onChange:function(e){return s(e)}}),r.a.createElement("div",{className:"container-submit"},r.a.createElement("input",{className:"input-submit",type:"submit",value:"Log in"}),c.errorMessage?r.a.createElement("h6",{style:{marginLeft:"20%"},className:"error"},"Error: ",c.errorMessage," "):null)),image:"/images/login-img.png",littleInfo:r.a.createElement("p",null,"You don't have account? ",r.a.createElement(i.b,{className:"w-link",to:"/auth/signup"},"Sign up"))})},j=a(104),y=a(37),k=a(106),S=Object(j.a)((function(e){return{root:{width:180+2*e.spacing(3)},margin:{height:e.spacing(0)}}})),C=Object(y.a)({root:{color:"#17252A",height:8},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(k.a);function w(e){var t=S(),a=Object(n.useState)(0),c=Object(o.a)(a,2),l=c[0],s=c[1];return r.a.createElement("div",{className:t.root},r.a.createElement(C,{value:l,onChange:function(t,a){s(a),e.setState((function(e){return Object(h.a)(Object(h.a)({},e),{},{age:l})}))},"aria-label":"pretto slider"}),r.a.createElement("div",{className:t.margin}))}var I=function(){return r.a.createElement("main",{className:"error-page"},r.a.createElement("h1",null,"Uuuups... "),r.a.createElement("img",{className:"error-page-img",style:{margin:" 8% 0"},src:"/images/error-404.png",alt:"auth-error"}),r.a.createElement("p",null,"Sorry, we couldn't find the content that you were searching for, go ",r.a.createElement(i.b,{to:"/"},"Home")," or ",r.a.createElement(i.b,{to:"/rooms"},"the rooms list")))},x=function(){return r.a.createElement("main",{className:"error-page"},r.a.createElement("h1",null,"Uuuups... "),r.a.createElement("img",{className:"error-page-img",style:{margin:" 8% 0"},src:"/images/error-500.png",alt:"auth-error"}),r.a.createElement("p",null,"Sorry, something went wrong with our servers. Go ",r.a.createElement(i.b,{to:"/"},"Home")," or ",r.a.createElement(i.b,{to:"/rooms"},"the rooms list")))},T=function(e){var t=Object(n.useState)({name:"",surname:"",occupation:"",age:0,email:"",password:"",description:"",char:"",characteristics:[],socials:{facebook:"",twitter:"",instagram:""},page:0}),a=Object(o.a)(t,2),c=a[0],l=a[1],s=function(e){var t=e.target;l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(E.a)({},t.name,t.value))}))},m=function(e){var t=e.target;l((function(e){return Object(h.a)(Object(h.a)({},e),{},{socials:Object(h.a)(Object(h.a)({},e.socials),{},Object(E.a)({},t.name,t.value))})}))},u=function(){var e=c.page+1;l((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:e})}))},p=function(){var e=c.page-1;l((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:e})}))},f=r.a.createElement("div",{className:"form-controllers"},r.a.createElement("button",{className:"faux-button-l",onClick:p},"Back"),r.a.createElement("button",{className:"faux-button-r",onClick:u},"Next")),d=c.characteristics.map((function(e){return r.a.createElement("h4",{key:e,className:"title-inline"},e)}));return 0===c.page?r.a.createElement(v,{title:"Hello!",subtitle:"It's nice to meet you!",secondaryTitle:"Start with the sign up form",secondaryContent:r.a.createElement("div",{className:"register-container"},r.a.createElement("button",{className:"register-button",onClick:u},"Registration Questions")),image:"/images/signup-0.png",littleInfo:r.a.createElement("p",null,"You already have an account? ",r.a.createElement(i.b,{className:"w-link",to:"/auth/login"},"Log in"))}):1===c.page?r.a.createElement(v,{title:"About you ...",subtitle:"We want to know you!",content:r.a.createElement("div",{className:"banner-content"},""===c.name?r.a.createElement("h6",{className:"error-little"},"The name is required to sign up "):null,r.a.createElement(N,{type:"text",name:"name",placeholder:"Name",value:c.name,onChange:function(e){return s(e)}}),""===c.surname?r.a.createElement("h6",{className:"error-little"},"The surname is required to sign up "):null,r.a.createElement(N,{type:"text",name:"surname",placeholder:"Surname",value:c.surname,onChange:function(e){return s(e)}}),r.a.createElement(N,{type:"text",name:"occupation",placeholder:"Occupation",value:c.occupation,onChange:function(e){return s(e)}})),image:"/images/signup-1.png",littleInfo:f}):2===c.page?r.a.createElement(v,{title:"Age",subtitle:"How old are you?",content:r.a.createElement("div",{className:"banner-content"},r.a.createElement("div",{className:"age-banner"},r.a.createElement("h1",null,c.age)),r.a.createElement(w,{state:c,setState:l})),image:"/images/signup-2.png",littleInfo:f}):3===c.page?r.a.createElement(v,{title:"Details",subtitle:"Tell us about you...",content:r.a.createElement("div",null,r.a.createElement("textarea",{name:"description",placeholder:"Description",rows:"7",value:c.description,onChange:function(e){return s(e)},className:"input-big"}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=c.characteristics;t.push(c.char),l((function(e){return Object(h.a)(Object(h.a)({},e),{},{characteristics:t,char:""})}))},className:"char-form"},r.a.createElement(N,{type:"text",name:"char",placeholder:"Charactetistic",value:c.char,onChange:function(e){return s(e)}}),r.a.createElement("input",{type:"submit",value:"+",className:"char-submit"})),c.characteristics?r.a.createElement("div",{className:"container-char"},d):null),image:"/images/signup-3.png",littleInfo:f}):4===c.page?r.a.createElement(v,{title:"Credentials",subtitle:"This is the information for the login",content:r.a.createElement("div",{className:"banner-content"},""===c.email?r.a.createElement("h6",{className:"error-little"},"The email is required to sign up "):null,r.a.createElement(N,{type:"text",name:"email",placeholder:"Email",value:c.email,onChange:function(e){return s(e)}}),""===c.password?r.a.createElement("h6",{className:"error-little"},"The password is required to sign up "):null,r.a.createElement(N,{type:"password",name:"password",placeholder:"Password",value:c.password,onChange:function(e){return s(e)}})),image:"/images/signup-4.png",littleInfo:f}):5===c.page?r.a.createElement(v,{title:"Socials",subtitle:"Do you want to include your socials?",content:r.a.createElement("div",{className:"banner-content"},r.a.createElement(N,{type:"text",name:"facebook",placeholder:"Facebook",value:c.socials.facebook,onChange:function(e){return m(e)}}),r.a.createElement(N,{type:"text",name:"twitter",placeholder:"Twitter",value:c.socials.twitter,onChange:function(e){return m(e)}}),r.a.createElement(N,{type:"text",name:"instagram",placeholder:"Instagram",value:c.socials.instagram,onChange:function(e){return m(e)}}),c.errorMessage?r.a.createElement("h6",{className:"error"},"Error: ",c.errorMessage," "):null),image:"/images/signup-5.png",littleInfo:r.a.createElement("div",{className:"submit-signup"},r.a.createElement("button",{className:"faux-button-l",onClick:p},"Back"),r.a.createElement("button",{className:"faux-button-r",onClick:function(){var t=c.name,a=c.surname,n=c.occupation,r=c.age,o=c.email,s=c.password,i=c.description,m=c.characteristics,u=c.socials;g.a.post("".concat("https://roomer-app.herokuapp.com/","/auth/signup"),{name:t,surname:a,occupation:n,age:r,email:o,password:s,description:i,characteristics:m,socials:u},{withCredentials:!0}).then((function(t){e.setUserSession(t.data),e.history.push("/userprofile/".concat(t.data._id))})).catch((function(e){return l((function(t){return Object(h.a)(Object(h.a)({},t),{},{errorMessage:e.response.data.message})}))}))}},"Send"))}):c.page>6?r.a.createElement(I,null):r.a.createElement(x,null)},A=function(e){return r.a.createElement("div",{className:"navbar"},r.a.createElement(i.b,{className:"navbar-title",to:"/"},r.a.createElement("h3",{style:{color:"white"}},"Roomer")),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/rooms"},r.a.createElement("img",{alt:"room-search",src:"/icons/magGlass.png"}),r.a.createElement("p",{className:"navbar-title"},"Room List"))),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/offers/"+e.userInSession._id},r.a.createElement("img",{alt:"offers",src:"/icons/chat.png"}),r.a.createElement("p",{className:"navbar-title"},"Offers"))),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/userprofile/"+e.userInSession._id},r.a.createElement("img",{alt:"userprofile",src:"/icons/userprofile.png"}),r.a.createElement("p",{className:"navbar-title"},"User Profile"))),r.a.createElement("div",null,r.a.createElement(i.b,{to:"/rooms/add"},r.a.createElement("img",{alt:"add-room",src:"/icons/plus.png"}),r.a.createElement("p",{className:"navbar-title"},"Add room"))))},U=a(24);var _=function(e){return r.a.createElement("div",{className:"room-item"},r.a.createElement("div",{className:"room-img"},r.a.createElement(i.b,{to:"/rooms/"+e._id},r.a.createElement("img",{src:e.roomImg,alt:e.address}))),r.a.createElement("div",{className:"room-data"},r.a.createElement("div",{className:"room-top-info"},r.a.createElement(i.b,{to:"/user/".concat(e.ownerId)},r.a.createElement("img",{src:e.ownerImg,alt:e.ownerName})),e.userInSession.loggedInUser?null:r.a.createElement("button",{onClick:function(){g.a.patch("".concat("https://roomer-app.herokuapp.com/","/rooms/").concat(e._id),{userId:e.userInSession._id},{withCredentials:!0}).then((function(t){e.setUserSession((function(e){return t.data}))})).catch((function(e){return console.log("Something went wrong when updating the favourites list")}))}},e.userInSession.favourites.includes(e._id)?r.a.createElement(p.a,{icon:f.n.faHeart}):r.a.createElement(p.a,{icon:U.a.faHeart}))),r.a.createElement("h5",null,e.ownerName,", ",e.ownerAge,e.ownerId===e.userInSession._id?r.a.createElement("span",null,r.a.createElement(i.b,{to:"/rooms/edit/".concat(e._id)},r.a.createElement(p.a,{icon:U.a.faEdit})),r.a.createElement(i.b,{to:"/rooms/delete/".concat(e._id)},r.a.createElement(p.a,{icon:U.a.faTrashAlt}))):null),r.a.createElement("hr",null),r.a.createElement("h6",null,r.a.createElement(p.a,{icon:f.n.faMapMarkerAlt})," ",e.address),r.a.createElement("h2",null,e.price,"\u20ac")))},R=function(){return r.a.createElement("main",{className:"error-page"},r.a.createElement("h1",null,"Uuuups... "),r.a.createElement("img",{className:"error-page-img",src:"/images/error-403.png",alt:"auth-error"}),r.a.createElement("p",null,"To access this content you need to be registered  ",r.a.createElement(i.b,{to:"/auth/login"},"Log in")," or ",r.a.createElement(i.b,{to:"/auth/signup"},"Sign up")))};var M=function(e){var t=Object(n.useState)({favourites:[],adverts:[]}),a=Object(o.a)(t,2),c=a[0],l=a[1];if(Object(n.useEffect)((function(){var t=!0;return g.a.get("".concat("https://roomer-app.herokuapp.com/","/userprofile/").concat(e.match.params.id)).then((function(e){t&&l((function(t){return{favourites:e.data.favourites,adverts:e.data.adverts}}))})),function(){t=!1}}),[e.match.params.id]),e.userInSession._id===e.match.params.id){var s=e.userInSession.characteristics.map((function(e){return r.a.createElement("li",{key:e},e)}));return r.a.createElement("div",{className:"container-userprofile"},r.a.createElement("section",{className:"banner-top"},r.a.createElement("div",{className:"user-img"},r.a.createElement("img",{alt:"user",src:e.userInSession.imageUrl})),r.a.createElement("div",{className:"user-title"},r.a.createElement("h2",null,e.userInSession.name," ",e.userInSession.surname,r.a.createElement("span",null,e.match.params.id?r.a.createElement(i.b,{to:"".concat(e.match.params.id,"/delete")},r.a.createElement("img",{alt:"delete",src:"/icons/delete.png"})):null)),r.a.createElement("h4",null,e.userInSession.occupation),e.match.params.id?r.a.createElement(i.b,{to:"".concat(e.match.params.id,"/edit")},"Edit profile"):null,e.match.params.id?r.a.createElement(i.b,{to:"/auth/logout"},"Log out"):null)),r.a.createElement("section",{className:"user-description"},r.a.createElement("div",{className:"user-presentation"},r.a.createElement("p",null,e.userInSession.description)),r.a.createElement("div",{className:"social-links"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.userInSession.socials?"https://".concat(e.userInSession.socials.facebook):"/"},r.a.createElement("img",{alt:"facebook",src:"/icons/facebook.png"})),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.userInSession.socials?"https://".concat(e.userInSession.socials.twitter):"/"},r.a.createElement("img",{alt:"twitter",src:"/icons/twitter.png"})),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.userInSession.socials?"https://".concat(e.userInSession.socials.instagram):"/"},r.a.createElement("img",{alt:"instagram",src:"/icons/instagram.png"})))),r.a.createElement("section",{className:"characteristics-list"},r.a.createElement("h2",null,"Characteristics"),r.a.createElement("ul",null,s)),r.a.createElement("section",{className:"container-adsfavs"},r.a.createElement("h2",null,"Adverts"),c.adverts===[]?r.a.createElement("h6",null,"You haven't posted any adverts yet"):c.adverts.map((function(t){return r.a.createElement(_,{key:"".concat(t._id,"ad"),userInSession:e.userInSession,setUserSession:e.setUserSession,_id:t._id,roomImg:t.images[0],ownerId:e.userInSession._id,ownerImg:e.userInSession.imageUrl,ownerName:e.userInSession.name,ownerAge:e.userInSession.age,address:t.location.direction,price:t.price})}))),r.a.createElement("section",{className:"container-adsfavs"},r.a.createElement("h2",null,"Favourites"),c.favourites===[]?r.a.createElement("h6",null,"You haven't added any favourites yet"):c.favourites.map((function(t){return r.a.createElement(_,{key:"".concat(t._id,"fav"),userInSession:e.userInSession,setUserSession:e.setUserSession,_id:t._id,roomImg:t.images[0],ownerId:t.owner._id,ownerImg:t.owner.imageUrl,ownerName:t.owner.name,ownerAge:t.owner.age,address:t.location.direction,price:t.price})}))),r.a.createElement(A,{userInSession:e.userInSession}))}return r.a.createElement(R,null)},D=function(e){var t={name:e.userInSession.name,surname:e.userInSession.surname,occupation:e.userInSession.occupation,age:e.userInSession.age,description:e.userInSession.description,emailValid:!0,email:e.userInSession.email,socials:{facebook:e.userInSession.socials.facebook,twitter:e.userInSession.socials.twitter,instagram:e.userInSession.socials.instagram},characteristics:e.userInSession.characteristics,imageUrl:e.userInSession.imageUrl,char:"",file:null},a=Object(n.useState)(t),c=Object(o.a)(a,2),l=c[0],s=c[1],i=function(e){var t=e.target;s((function(e){return Object(h.a)(Object(h.a)({},e),{},{socials:Object(h.a)(Object(h.a)({},e.socials),{},Object(E.a)({},t.name,t.value))})}))},m=function(e){var t=e.target;s((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(E.a)({},t.name,t.value))}))},u=l.characteristics.map((function(e){return r.a.createElement("li",{key:e,className:"char-list"},r.a.createElement("button",{onClick:function(){return function(e){var t=l.characteristics;t.splice(t.indexOf(e),1),s((function(e){return Object(h.a)(Object(h.a)({},e),{},{characteristics:t})}))}(e)}},e))}));return e.userInSession._id===e.match.params.id?r.a.createElement(v,{title:"Edit profile",subtitle:"You can change your data here!",image:"/images/signup-2.png",content:r.a.createElement("form",{className:"edit-form",onSubmit:function(t){t.preventDefault();var a=new FormData;null===l.file?a.append("imageUrl",l.imageUrl):a.append("imageUrl",l.file),a.append("name",l.name),a.append("surname",l.surname),a.append("occupation",l.occupation),a.append("age",l.age),a.append("description",l.description),a.append("email",l.email),a.append("socials",JSON.stringify(l.socials)),a.append("characteristics",JSON.stringify(l.characteristics)),g.a.put("".concat("https://roomer-app.herokuapp.com/","/userprofile/").concat(e.match.params.id),a,{withCredentials:!0}).then((function(t){e.setUserSession(t.data),e.history.push("/userprofile/".concat(e.match.params.id))})).catch((function(e){return s((function(t){return Object(h.a)(Object(h.a)({},t),{},{errorMessage:e.response.data.message})}))}))}},r.a.createElement("label",null,"User profile image (1MB max)"),r.a.createElement(N,{type:"file",name:"imageUrl",onChange:function(e){return function(e){var t=e.target;s((function(e){return Object(h.a)(Object(h.a)({},e),{},{file:t.files[0]})}))}(e)}}),r.a.createElement("label",null,"Name"),r.a.createElement(N,{type:"text",name:"name",placeholder:"Name",value:l.name,onChange:function(e){return m(e)}}),r.a.createElement("label",null,"Surname"),r.a.createElement(N,{type:"text",name:"surname",placeholder:"Surname",value:l.surname,onChange:function(e){return m(e)}}),r.a.createElement("label",null,"Occupation"),r.a.createElement(N,{type:"text",name:"occupation",placeholder:"Occupation",value:l.occupation,onChange:function(e){return m(e)}}),r.a.createElement("label",null,"Email"),r.a.createElement(N,{type:"email",name:"email",placeholder:"Email",value:l.email,onChange:function(e){return m(e)}}),r.a.createElement("label",null,"Age"),r.a.createElement(N,{type:"number",name:"age",placeholder:"Age",value:l.age,onChange:function(e){return m(e)}}),r.a.createElement("label",null,"Description"),r.a.createElement("textarea",{name:"description",placeholder:"Description",rows:"7",value:l.description,onChange:function(e){return m(e)},className:"input-big"}),r.a.createElement("label",null,"Characteristics"),r.a.createElement("div",{className:"char-form"},r.a.createElement(N,{type:"text",name:"char",placeholder:"Charactetistic",value:l.char,onChange:function(e){return m(e)}}),r.a.createElement("input",{type:"button",onClick:function(e){return function(e){var t=l.characteristics;t.push(l.char),s((function(e){return Object(h.a)(Object(h.a)({},e),{},{characteristics:t,char:""})}))}()},value:"+",className:"char-submit"})),r.a.createElement("ul",{className:"edit-char"},u),r.a.createElement("label",null,"Socials"),r.a.createElement(N,{type:"text",name:"facebook",placeholder:"Facebook",value:l.socials.facebook,onChange:function(e){return i(e)}}),r.a.createElement(N,{type:"text",name:"twitter",placeholder:"Twitter",value:l.socials.twitter,onChange:function(e){return i(e)}}),r.a.createElement(N,{type:"text",name:"instagram",placeholder:"Instagram",value:l.socials.instagram,onChange:function(e){return i(e)}}),l.errorMessage?r.a.createElement("h6",{className:"error"},"Error: ",l.errorMessage," "):null,r.a.createElement("input",{className:"edit-submit",type:"submit",value:"Save changes"}))}):r.a.createElement(R,null)},L=a(34);a(86).config();var F=function(e){var t=Object(n.useState)({search:"",lat:0,lng:0,direction:""}),a=Object(o.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",{className:"map"},r.a.createElement("form",{className:"map-form",onSubmit:function(t){t.preventDefault(),g.a.get("".concat("https://roomer-app.herokuapp.com/","/maps?search=").concat(c.seach)).then((function(t){t.data.candidates.length<1?l((function(e){return Object(h.a)(Object(h.a)({},e),{},{errorMessage:"Please provide a valid address"})})):(l((function(e){return Object(h.a)(Object(h.a)({},e),{},{lat:t.data.candidates[0].geometry.location.lat,lng:t.data.candidates[0].geometry.location.lng,direction:t.data.candidates[0].formatted_address})})),e.setState((function(e){return Object(h.a)(Object(h.a)({},e),{},{location:{lat:t.data.candidates[0].geometry.location.lat,lng:t.data.candidates[0].geometry.location.lng,direction:t.data.candidates[0].formatted_address}})})))})).catch((function(e){return l((function(t){return Object(h.a)(Object(h.a)({},t),{},{errorMessage:e.response.data.message})}))}))}},r.a.createElement(N,{type:"text",placeholder:"Please, write the address",name:"search",value:c.search,onChange:function(e){var t=e.target;l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(E.a)({},t.name,t.value))}))}}),r.a.createElement("input",{type:"submit",name:"submit",value:"+",className:"char-submit"})),c.errorMessage?r.a.createElement("h6",{className:"error"},"Error: ",c.errorMessage," "):null,r.a.createElement(L.a,{key:c.direction,bootstrapURLKeys:{key:"AIzaSyDu9FCivrJ5IwnAgUBMYLA5_sxi7Q9u0bg"},defaultCenter:{lat:c.lat,lng:c.lng},defaultZoom:15,options:function(e){return{disableDefaultUI:!1,mapTypeControl:!1,streetViewControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,t){return new t.Marker({position:{lat:c.lat,lng:c.lng},map:e,title:c.direction})}(e.map,e.maps)}}))},P=a(35),z=function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){g.a.get("".concat("https://roomer-app.herokuapp.com/","/rooms/").concat(e.match.params.id)).then((function(e){l({property:e.data.property,location:e.data.location,images:[],oldImages:e.data.images,files:null,price:e.data.price,size:e.data.size,availability:e.data.availability.toString().slice(0,10),flatmates:e.data.flatmates,bedrooms:e.data.bedrooms,bathrooms:e.data.bathrooms,pets:e.data.pets,smokers:e.data.smokers,amenities:e.data.amenities,tolerance:e.data.tolerance,title:e.data.title,description:e.data.description})})).catch((function(e){return l((function(t){return Object(h.a)(Object(h.a)({},t),{},{errorMessage:e.response.data.message})}))}))}),[e.match.params.id]);var s=function(e){l((function(t){return Object(h.a)(Object(h.a)({},t),{},{property:e})}))},i=function(e){l((function(t){return Object(h.a)(Object(h.a)({},t),{},{size:e})}))},m=function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{smokers:!e.smokers})}))},u=function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{pets:!e.pets})}))},d=function(e){var t=e.target;l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(E.a)({},t.name,t.value))}))};return void 0!==e.userInSession._id&&void 0!==c.location?r.a.createElement(v,{title:"Edit room",subtitle:"You can change the room data here!",image:"/images/signup-2.png",content:r.a.createElement("div",{className:"container-roomedit"},r.a.createElement("h4",null,"Type or property"),r.a.createElement("div",{className:"property-content"},r.a.createElement("button",{className:"House"===c.property?"button-dark-little":"button-light-little",onClick:function(){return s("House")}},"House"),r.a.createElement("button",{className:"Flat"===c.property?"button-dark-little":"button-light-little",onClick:function(){return s("Flat")}},"Flat"),r.a.createElement("button",{className:"Other"===c.property?"button-dark-little":"button-light-little",onClick:function(){return s("Other")}},"Other")),r.a.createElement("h4",null,"Room availability date"),r.a.createElement(N,{type:"date",name:"availability",value:c.availability,onChange:function(e){return d(e)}}),r.a.createElement("h4",null,"Monthly cost"),r.a.createElement(N,{type:"number",placeholder:"Price",name:"price",value:c.price,onChange:function(e){return d(e)}}),r.a.createElement("h4",null,"Room size"),r.a.createElement("div",{className:"property-content"},r.a.createElement("button",{className:"individual"===c.size?"button-dark-little":"button-light-little",onClick:function(){return i("individual")}},"Individual"),r.a.createElement("button",{className:"double"===c.size?"button-dark-little":"button-light-little",onClick:function(){return i("double")}},"Double")),r.a.createElement("h4",null,"Pictures (1MB max each)"),r.a.createElement("div",{className:"input-text-bg"},r.a.createElement("input",{className:"input-text",type:"file",name:"image",onChange:function(e){return function(e){var t=e.target;l((function(e){return Object(h.a)(Object(h.a)({},e),{},{files:t.files})}))}(e)},multiple:!0})),r.a.createElement("h4",null,"Address"),r.a.createElement("p",null,"The actual address is: ",r.a.createElement("br",null),c.location.direction),r.a.createElement(F,{className:"edit-map",setState:l}),r.a.createElement("h4",{style:{marginTop:"80px"}},"Amenities"),r.a.createElement("div",{className:"container-amenities"},r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return l((function(e){return Object(h.a)(Object(h.a)({},e),{},{amenities:Object(h.a)(Object(h.a)({},e.amenities),{},{living:!e.amenities.living})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.c}),"Shared Living Room"),c.amenities.living?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return l((function(e){return Object(h.a)(Object(h.a)({},e),{},{amenities:Object(h.a)(Object(h.a)({},e.amenities),{},{internet:!e.amenities.internet})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.l}),"Internet"),c.amenities.internet?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return l((function(e){return Object(h.a)(Object(h.a)({},e),{},{amenities:Object(h.a)(Object(h.a)({},e.amenities),{},{parking:!e.amenities.parking})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.a}),"Parking"),c.amenities.parking?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return l((function(e){return Object(h.a)(Object(h.a)({},e),{},{amenities:Object(h.a)(Object(h.a)({},e.amenities),{},{balcony:!e.amenities.balcony})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.m}),"Balcony or terrace"),c.amenities.balcony?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return l((function(e){return Object(h.a)(Object(h.a)({},e),{},{amenities:Object(h.a)(Object(h.a)({},e.amenities),{},{garden:!e.amenities.garden})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.k}),"Garden or patio"),c.amenities.garden?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return l((function(e){return Object(h.a)(Object(h.a)({},e),{},{amenities:Object(h.a)(Object(h.a)({},e.amenities),{},{daccess:!e.amenities.daccess})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:P.a}),"Disabled access"),c.amenities.daccess?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j})))),r.a.createElement("h4",null,"Flatmates (men)"),r.a.createElement(N,{type:"number",placeholder:"Man",name:"flatmates",value:c.flatmates[0],onChange:function(e){l((function(t){return Object(h.a)(Object(h.a)({},t),{},{flatmates:[parseInt(e.target.value),t.flatmates[1]]})}))}}),r.a.createElement("h4",null,"Flatmates (women)"),r.a.createElement(N,{type:"number",placeholder:"Women",name:"flatmates",value:c.flatmates[1],onChange:function(e){l((function(t){return Object(h.a)(Object(h.a)({},t),{},{flatmates:[t.flatmates[0],parseInt(e.target.value)]})}))}}),r.a.createElement("h4",null,"Bedrooms"),r.a.createElement(N,{type:"number",placeholder:"Bedrooms",name:"bedrooms",value:c.bedrooms,onChange:function(e){return d(e)}}),r.a.createElement("h4",null,"Bathrooms"),r.a.createElement(N,{type:"number",placeholder:"Bathrooms",name:"bathrooms",value:c.bathrooms,onChange:function(e){return d(e)}}),r.a.createElement("h4",null,"Smokers in the house"),r.a.createElement("div",{className:"property-content"},r.a.createElement("button",{className:!0===c.smokers?"button-dark-little":"button-light-little",onClick:function(){return m()}},"Yes"),r.a.createElement("button",{className:!1===c.smokers?"button-dark-little":"button-light-little",onClick:function(){return m()}},"No")),r.a.createElement("h4",null,"Pets in the house"),r.a.createElement("div",{className:"property-content"},r.a.createElement("button",{className:!0===c.pets?"button-dark-little":"button-light-little",onClick:function(){return u()}},"Yes"),r.a.createElement("button",{className:!1===c.pets?"button-dark-little":"button-light-little",onClick:function(){return u()}},"No")),r.a.createElement("h4",null,"Tolerances"),r.a.createElement("div",{className:"container-amenities"},r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return l((function(e){return Object(h.a)(Object(h.a)({},e),{},{tolerance:Object(h.a)(Object(h.a)({},e.tolerance),{},{guys:!e.tolerance.guys})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.f}),"Guys"),c.tolerance.guys?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return l((function(e){return Object(h.a)(Object(h.a)({},e),{},{tolerance:Object(h.a)(Object(h.a)({},e.tolerance),{},{girls:!e.tolerance.girls})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.d}),"Girls"),c.tolerance.girls?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return l((function(e){return Object(h.a)(Object(h.a)({},e),{},{tolerance:Object(h.a)(Object(h.a)({},e.tolerance),{},{couples:!e.tolerance.couples})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.h}),"Couples"),c.tolerance.couples?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return l((function(e){return Object(h.a)(Object(h.a)({},e),{},{tolerance:Object(h.a)(Object(h.a)({},e.tolerance),{},{students:!e.tolerance.students})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.e}),"Students"),c.tolerance.students?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return l((function(e){return Object(h.a)(Object(h.a)({},e),{},{tolerance:Object(h.a)(Object(h.a)({},e.tolerance),{},{smokers:!e.tolerance.smokers})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.i}),"Smokers"),c.tolerance.smokers?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return l((function(e){return Object(h.a)(Object(h.a)({},e),{},{tolerance:Object(h.a)(Object(h.a)({},e.tolerance),{},{pets:!e.tolerance.pets})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.g}),"Pets"),c.tolerance.pets?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j})))),r.a.createElement("h4",null,"Title and description of the advert"),r.a.createElement("div",{className:"add-publi"},r.a.createElement(N,{type:"text",name:"title",placeholder:"Advert title",value:c.title,onChange:function(e){return d(e)}}),r.a.createElement("textarea",{name:"description",placeholder:"Advert Description",rows:"7",value:c.description,onChange:function(e){return d(e)},className:"input-big"})),c.errorMessage?r.a.createElement("h6",{className:"error"},"Error: ",c.errorMessage," "):null,r.a.createElement("input",{className:"edit-submit",type:"button",onClick:function(t){t.preventDefault();var a=new FormData;if(null!==c.files)for(var n=0,r=Object.keys(c.files);n<r.length;n++){var o=r[n];a.append("images",c.files[o])}a.append("oldImages",JSON.stringify(c.oldImages)),a.append("property",c.property),a.append("location",JSON.stringify(c.location)),a.append("price",c.price),a.append("size",c.size),a.append("availability",c.availability),a.append("flatmates",JSON.stringify(c.flatmates)),a.append("bedrooms",c.bedrooms),a.append("bathrooms",c.bathrooms),a.append("pets",c.pets),a.append("smokers",c.smokers),a.append("amenities",JSON.stringify(c.amenities)),a.append("tolerance",JSON.stringify(c.tolerance)),a.append("title",c.title),a.append("description",c.description),g.a.put("".concat("https://roomer-app.herokuapp.com/","/rooms/").concat(e.match.params.id,"/edit"),a,{withCredentials:!0}).then((function(){e.history.push("/userprofile/".concat(e.userInSession._id))})).catch((function(e){return l((function(t){return Object(h.a)(Object(h.a)({},t),{},{errorMessage:e.response.data.message})}))}))},value:"Save changes"}))}):r.a.createElement(R,null)};var B=function(e){return e.userInSession._id===e.match.params.id?r.a.createElement(v,{title:"Goodbye :(",subtitle:"We are sad to see you go ".concat(e.userInSession.name),image:"/images/delete-account.png",content:r.a.createElement("div",{className:"farewell-text"},r.a.createElement("p",null,"Are you sure that you want to delete your user? If you do you are going to lose all your information stored in your profile and you will no longer have access to your account"),r.a.createElement("button",{className:"delete-account",onClick:function(){g.a.delete("".concat("https://roomer-app.herokuapp.com/","/userprofile/").concat(e.match.params.id,"/delete")).then((function(){return e.history.push("/")}))}},"Delete account")),littleInfo:r.a.createElement("div",{className:"footer-text"},r.a.createElement("p",null,"If you are not sure about your decision..."),r.a.createElement(i.b,{className:"w-link",to:"/userprofile/".concat(e.userInSession._id)},"Go Back"))}):r.a.createElement("h1",null,"You are not authorised to see this page")};var Y=function(e){return void 0!==e.userInSession._id?r.a.createElement(v,{title:"Errase Room",subtitle:"You are going to errase your advert ".concat(e.userInSession.name),image:"/images/delete-account.png",content:r.a.createElement("div",{className:"farewell-text"},r.a.createElement("p",null,"Are you sure that you want to delete your room advert? We hope that you are deleting this advert because you have found the perfect roommmate for you!"),r.a.createElement("button",{className:"delete-account",onClick:function(){g.a.delete("".concat("https://roomer-app.herokuapp.com/","/rooms/").concat(e.match.params.id,"/delete")).then((function(){return e.history.push("/userprofile/".concat(e.userInSession._id))}))}},"Delete advert")),littleInfo:r.a.createElement("div",{className:"footer-text"},r.a.createElement("p",null,"If you are not sure about your decision..."),r.a.createElement(i.b,{className:"w-link",to:"/userprofile/".concat(e.userInSession._id)},"Go Back"))}):r.a.createElement("h1",null,"You are not authorised to see this page")},H=a(43),J=function(e){var t=Object(n.useState)({loading:!0,counter:0}),a=Object(o.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){g.a.get("".concat("https://roomer-app.herokuapp.com/","/rooms/").concat(e.match.params.id)).then((function(e){l((function(){return e.data}))})).catch((function(e){return l((function(t){return Object(h.a)(Object(h.a)({},t),{},{errorMessage:e.response.data.message})}))}))}),[e.match.params.id]);if(c.loading)return r.a.createElement(x,null);var s=c.images.map((function(e){return r.a.createElement(H.a.Item,{key:e},r.a.createElement("img",{className:"room-carr",alt:"room",src:e}))}));return r.a.createElement("main",{className:"container-rdetails"},r.a.createElement("div",{className:"top-rdetails"},r.a.createElement("section",{className:"room-images"},r.a.createElement(H.a,null,s),r.a.createElement(i.b,{to:"/user/".concat(c.owner._id)},r.a.createElement("img",{className:"room-avt",alt:c.owner.name,src:c.owner.imageUrl}))),r.a.createElement("div",null,r.a.createElement("section",{className:"room-title-fav"},r.a.createElement("h1",null,c.title),e.userInSession.loggedInUser?null:r.a.createElement("button",{onClick:function(){g.a.patch("".concat("https://roomer-app.herokuapp.com/","/rooms/").concat(e.match.params.id),{userId:e.userInSession._id},{withCredentials:!0}).then((function(t){e.setUserSession((function(e){return t.data}))})).catch((function(e){return console.log("Something went wrong when updating the favourites list")}))}},e.userInSession.favourites.includes(e.match.params.id)?r.a.createElement(p.a,{icon:f.n.faHeart}):r.a.createElement(p.a,{icon:U.a.faHeart}))),r.a.createElement("section",{className:"room-info"},r.a.createElement("div",{className:"room-intro"},r.a.createElement("p",null,r.a.createElement(p.a,{icon:f.n.faUserFriends})," ",c.flatmates[0]+c.flatmates[1],"roomates"),r.a.createElement("p",null,r.a.createElement(p.a,{icon:f.n.faDoorOpen})," ",c.bedrooms,"bedrooms"),r.a.createElement("p",null,r.a.createElement(p.a,{icon:f.n.faToilet})," ",c.bathrooms,"bathrooms"),r.a.createElement("p",null,r.a.createElement(p.a,{icon:f.n.faBed})," ",c.size)),r.a.createElement("p",{className:"room-description"},c.description),r.a.createElement("div",{className:"price-contact"},r.a.createElement("h1",null,c.price,"\u20ac"),e.userInSession._id?r.a.createElement("button",{className:"button-contact"},r.a.createElement(i.b,{to:"".concat(e.match.params.id,"/newOffer")},"Contact")):null)),r.a.createElement("h3",null,"Amenities"),r.a.createElement("section",{className:"room-mainchar"},r.a.createElement("ul",null,r.a.createElement("li",null,c.amenities.living?r.a.createElement(p.a,{className:"list-check",icon:f.n.faCheckCircle}):r.a.createElement(p.a,{className:"list-cross",icon:f.n.faTimesCircle}),"Shared living room"),r.a.createElement("li",null,c.amenities.internet?r.a.createElement(p.a,{className:"list-check",icon:f.n.faCheckCircle}):r.a.createElement(p.a,{className:"list-cross",icon:f.n.faTimesCircle}),"Internet"),r.a.createElement("li",null,c.amenities.parking?r.a.createElement(p.a,{className:"list-check",icon:f.n.faCheckCircle}):r.a.createElement(p.a,{className:"list-cross",icon:f.n.faTimesCircle}),"Parking"),r.a.createElement("li",null,c.amenities.balcony?r.a.createElement(p.a,{className:"list-check",icon:f.n.faCheckCircle}):r.a.createElement(p.a,{className:"list-cross",icon:f.n.faTimesCircle}),"Balcony or terrace"),r.a.createElement("li",null,c.amenities.garden?r.a.createElement(p.a,{className:"list-check",icon:f.n.faCheckCircle}):r.a.createElement(p.a,{className:"list-cross",icon:f.n.faTimesCircle}),"Garden or patio"),r.a.createElement("li",null,c.amenities.daccess?r.a.createElement(p.a,{className:"list-check",icon:f.n.faCheckCircle}):r.a.createElement(p.a,{className:"list-cross",icon:f.n.faTimesCircle}),"Adapted access"))))),r.a.createElement("h3",null,"Location"),r.a.createElement("section",{className:"room-location"},r.a.createElement(L.a,{key:c.location.direction,bootstrapURLKeys:{key:"AIzaSyDu9FCivrJ5IwnAgUBMYLA5_sxi7Q9u0bg"},defaultCenter:{lat:parseFloat(c.location.lat),lng:parseFloat(c.location.lng)},defaultZoom:15,options:function(e){return{disableDefaultUI:!1,mapTypeControl:!1,streetViewControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,t){return new t.Marker({position:{lat:parseFloat(c.location.lat),lng:parseFloat(c.location.lng)},map:e,title:c.location.direction})}(e.map,e.maps)}})),r.a.createElement("h3",null,"About the host"),r.a.createElement("section",{className:"room-owner"},r.a.createElement("p",{className:"room-description"},c.owner.description)),r.a.createElement(A,{userInSession:e.userInSession}))},G=function(e){var t=e.roomState,a=e.setRoomState;return r.a.createElement("div",{className:"container-amenities"},r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return a((function(e){return Object(h.a)(Object(h.a)({},e),{},{amenities:Object(h.a)(Object(h.a)({},e.amenities),{},{living:!e.amenities.living})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.c}),"Shared Living Room"),t.amenities.living?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return a((function(e){return Object(h.a)(Object(h.a)({},e),{},{amenities:Object(h.a)(Object(h.a)({},e.amenities),{},{internet:!e.amenities.internet})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.l}),"Internet"),t.amenities.internet?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return a((function(e){return Object(h.a)(Object(h.a)({},e),{},{amenities:Object(h.a)(Object(h.a)({},e.amenities),{},{parking:!e.amenities.parking})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.a}),"Parking"),t.amenities.parking?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return a((function(e){return Object(h.a)(Object(h.a)({},e),{},{amenities:Object(h.a)(Object(h.a)({},e.amenities),{},{balcony:!e.amenities.balcony})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.m}),"Balcony or terrace"),t.amenities.balcony?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return a((function(e){return Object(h.a)(Object(h.a)({},e),{},{amenities:Object(h.a)(Object(h.a)({},e.amenities),{},{garden:!e.amenities.garden})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.k}),"Garden or patio"),t.amenities.garden?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return a((function(e){return Object(h.a)(Object(h.a)({},e),{},{amenities:Object(h.a)(Object(h.a)({},e.amenities),{},{daccess:!e.amenities.daccess})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:P.a}),"Disabled access"),t.amenities.daccess?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))))},W=function(e){var t=e.roomState,a=e.setRoomState;return r.a.createElement("div",{className:"flatmate-content"},r.a.createElement("div",{className:"flatmate-banner"},r.a.createElement("h4",null,"Number of guys"),r.a.createElement("h1",null,t.flatmates[0]),r.a.createElement("div",{className:"flatmate-buttons"},r.a.createElement("input",{type:"button",value:"+",onClick:function(){a((function(e){return Object(h.a)(Object(h.a)({},e),{},{flatmates:[e.flatmates[0]+1,e.flatmates[1]]})}))}}),r.a.createElement("input",{type:"button",value:"-",onClick:function(){a((function(e){return Object(h.a)(Object(h.a)({},e),{},{flatmates:[e.flatmates[0]-1,e.flatmates[1]]})}))}}))),r.a.createElement("div",{className:"flatmate-banner"},r.a.createElement("h4",null,"Number of girls"),r.a.createElement("h1",null,t.flatmates[1]),r.a.createElement("div",{className:"flatmate-buttons"},r.a.createElement("input",{type:"button",value:"+",onClick:function(){a((function(e){return Object(h.a)(Object(h.a)({},e),{},{flatmates:[e.flatmates[0],e.flatmates[1]+1]})}))}}),r.a.createElement("input",{type:"button",value:"-",onClick:function(){a((function(e){return Object(h.a)(Object(h.a)({},e),{},{flatmates:[e.flatmates[0],e.flatmates[1]-1]})}))}}))))},q=function(e){var t=e.roomState,a=e.setRoomState;return r.a.createElement("div",{className:"flatmate-content"},r.a.createElement("div",{className:"flatmate-banner"},r.a.createElement("h4",null,"Number of bedrooms"),r.a.createElement("h1",null,t.bedrooms),r.a.createElement("div",{className:"flatmate-buttons"},r.a.createElement("input",{type:"button",value:"+",onClick:function(){a((function(e){return Object(h.a)(Object(h.a)({},e),{},{bedrooms:e.bedrooms+1})}))}}),r.a.createElement("input",{type:"button",value:"-",onClick:function(){a((function(e){return Object(h.a)(Object(h.a)({},e),{},{bedrooms:e.bedrooms-1})}))}}))),r.a.createElement("div",{className:"flatmate-banner"},r.a.createElement("h4",null,"Number of bathrooms"),r.a.createElement("h1",null,t.bathrooms),r.a.createElement("div",{className:"flatmate-buttons"},r.a.createElement("input",{type:"button",value:"+",onClick:function(){a((function(e){return Object(h.a)(Object(h.a)({},e),{},{bathrooms:e.bathrooms+1})}))}}),r.a.createElement("input",{type:"button",value:"-",onClick:function(){a((function(e){return Object(h.a)(Object(h.a)({},e),{},{bathrooms:e.bathrooms-1})}))}}))))},Q=function(e){var t=e.roomState,a=e.setRoomState;return r.a.createElement("div",{className:"container-amenities"},r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return a((function(e){return Object(h.a)(Object(h.a)({},e),{},{tolerance:Object(h.a)(Object(h.a)({},e.tolerance),{},{guys:!e.tolerance.guys})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.f}),"Guys"),t.tolerance.guys?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return a((function(e){return Object(h.a)(Object(h.a)({},e),{},{tolerance:Object(h.a)(Object(h.a)({},e.tolerance),{},{girls:!e.tolerance.girls})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.d}),"Girls"),t.tolerance.girls?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return a((function(e){return Object(h.a)(Object(h.a)({},e),{},{tolerance:Object(h.a)(Object(h.a)({},e.tolerance),{},{couples:!e.tolerance.couples})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.h}),"Couples"),t.tolerance.couples?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return a((function(e){return Object(h.a)(Object(h.a)({},e),{},{tolerance:Object(h.a)(Object(h.a)({},e.tolerance),{},{students:!e.tolerance.students})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.e}),"Students"),t.tolerance.students?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return a((function(e){return Object(h.a)(Object(h.a)({},e),{},{tolerance:Object(h.a)(Object(h.a)({},e.tolerance),{},{smokers:!e.tolerance.smokers})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.i}),"Smokers"),t.tolerance.smokers?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))),r.a.createElement("div",{className:"amenity-feature"},r.a.createElement("h6",{onClick:function(e){return a((function(e){return Object(h.a)(Object(h.a)({},e),{},{tolerance:Object(h.a)(Object(h.a)({},e.tolerance),{},{pets:!e.tolerance.pets})})}))}},r.a.createElement(p.a,{className:"list-icon",icon:f.g}),"Pets"),t.tolerance.pets?r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-check",icon:f.b})):r.a.createElement("h6",null,r.a.createElement(p.a,{className:"list-cross",icon:f.j}))))},V=function(e){var t=Object(n.useState)({property:"",location:{search:"",lat:0,lng:0,direction:""},images:[],files:null,price:0,size:"",availability:"",flatmates:[0,0],bedrooms:0,bathrooms:0,pets:!1,smokers:!1,amenities:{living:!1,internet:!1,parking:!1,balcony:!1,garden:!1,daccess:!1},tolerance:{guys:!1,girls:!1,couples:!1,students:!1,smokers:!1,pets:!1},title:"",description:"",page:0}),a=Object(o.a)(t,2),c=a[0],l=a[1],s=function(e){var t=e.target;l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(E.a)({},t.name,t.value))}))},i=function(){var e=c.page+1;l((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:e})}))},m=function(){var e=c.page-1;l((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:e})}))},u=function(e){l((function(t){return Object(h.a)(Object(h.a)({},t),{},{property:e})}))},p=function(e){l((function(t){return Object(h.a)(Object(h.a)({},t),{},{size:e})}))},f=function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{smokers:!e.smokers})}))},d=function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{pets:!e.pets})}))},b=r.a.createElement("div",{className:"form-controllers"},r.a.createElement("button",{className:"faux-button-l",onClick:m},"Back"),r.a.createElement("button",{className:"faux-button-r",onClick:i},"Next"));return e.userInSession.loggedInUser?r.a.createElement(R,null):0===c.page?r.a.createElement(v,{title:"Property",subtitle:"Please, choose the property type",content:r.a.createElement("div",{className:"banner-content"},""===c.property?r.a.createElement("h6",{className:"error-little"},"The property type is required to post the advert"):null,r.a.createElement("button",{className:"House"===c.property?"button-dark-forms":"button-light-forms",onClick:function(){return u("House")}},"House"),r.a.createElement("button",{className:"Flat"===c.property?"button-dark-forms":"button-light-forms",onClick:function(){return u("Flat")}},"Flat"),r.a.createElement("button",{className:"Other"===c.property?"button-dark-forms":"button-light-forms",onClick:function(){return u("Other")}},"Other")),image:"/images/room/room-form1.png",littleInfo:r.a.createElement("div",{className:"only-controller",style:{marginTop:"50px"}},r.a.createElement("button",{className:"faux-button-r",onClick:i},"Next"))}):1===c.page?r.a.createElement(v,{title:"Details",subtitle:"Tell us a little about the room...",content:r.a.createElement("div",{className:"banner-content"},r.a.createElement("label",null,"Room availability date"),r.a.createElement(N,{type:"date",name:"availability",value:c.availability,onChange:function(e){return s(e)}}),r.a.createElement("label",null,"Monthly cost"),""===c.price?r.a.createElement("h6",{className:"error-little"},"The monthly cost is required to post the advert"):null,r.a.createElement(N,{type:"number",placeholder:"Price",name:"price",value:c.price,onChange:function(e){return s(e)}}),r.a.createElement("hr",null),r.a.createElement("label",null,"Room size"),""===c.size?r.a.createElement("h6",{className:"error-little"},"The room size is required to post the advert"):null,r.a.createElement("div",{className:"buttons-h"},r.a.createElement("button",{className:"individual"===c.size?"button-dark-forms":"button-light-forms",onClick:function(){return p("individual")}},"Individual"),r.a.createElement("button",{className:"double"===c.size?"button-dark-forms":"button-light-forms",onClick:function(){return p("double")}},"Double"))),image:"/images/room/room-form6.png",littleInfo:b}):2===c.page?r.a.createElement(v,{title:"Location and Pictures",subtitle:"Can you show us the room?",content:r.a.createElement("div",{className:"banner-content"},r.a.createElement("label",null,"Pictures (1MB max each)"),r.a.createElement("div",{className:"input-text-bg"},r.a.createElement("input",{className:"input-text",type:"file",name:"image",onChange:function(e){return function(e){var t=e.target;l((function(e){return Object(h.a)(Object(h.a)({},e),{},{files:t.files})}))}(e)},multiple:!0})),r.a.createElement("hr",null),r.a.createElement("label",null,"Address"),r.a.createElement(F,{setState:l})),image:"/images/room/room-form3.png",littleInfo:b}):3===c.page?r.a.createElement(v,{title:"Amenities",subtitle:"What services does the room have?",content:r.a.createElement(G,{roomState:c,setRoomState:l}),image:"/images/room/room-form4.png",littleInfo:b}):4===c.page?r.a.createElement(v,{title:"Flatmates",subtitle:"Who is living in the appartment at the moment?",content:r.a.createElement(W,{roomState:c,setRoomState:l}),image:"/images/room/room-form5.png",littleInfo:b}):5===c.page?r.a.createElement(v,{title:"Rooms",subtitle:"How many bedrooms and bathrooms are?",content:r.a.createElement(q,{roomState:c,setRoomState:l}),image:"/images/room/room-form2.png",littleInfo:b}):6===c.page?r.a.createElement(v,{title:"Specials",subtitle:"Are there any smokers or pets in the house?",content:r.a.createElement("div",{className:"banner-content"},r.a.createElement("h4",null,"Are there any smokers?"),r.a.createElement("div",{className:"buttons-h"},r.a.createElement("button",{className:!0===c.smokers?"button-dark-forms":"button-light-forms",onClick:function(){return f()}},"Yes"),r.a.createElement("button",{className:!1===c.smokers?"button-dark-forms":"button-light-forms",onClick:function(){return f()}},"No")),r.a.createElement("hr",null),r.a.createElement("h4",null,"Are there any pets?"),r.a.createElement("div",{className:"buttons-h"},r.a.createElement("button",{className:!0===c.pets?"button-dark-forms":"button-light-forms",onClick:function(){return d()}},"Yes"),r.a.createElement("button",{className:!1===c.pets?"button-dark-forms":"button-light-forms",onClick:function(){return d()}},"No"))),image:"/images/room/room-form7.png",littleInfo:b}):7===c.page?r.a.createElement(v,{title:"Looking for...",subtitle:"I'll be happy to live with...",content:r.a.createElement(Q,{roomState:c,setRoomState:l}),image:"/images/room/room-form8.png",littleInfo:b}):8===c.page?r.a.createElement(v,{title:"Advert",subtitle:"The last details of the advert",content:r.a.createElement("div",{className:"add-publi"},r.a.createElement(N,{type:"text",name:"title",placeholder:"Advert title",value:c.title,onChange:function(e){return s(e)}}),r.a.createElement("textarea",{name:"description",placeholder:"Advert Description",rows:"7",value:c.description,onChange:function(e){return s(e)},className:"input-big"}),c.errorMessage?r.a.createElement("h6",{className:"error"},"Error: ",c.errorMessage," "):null),image:"/images/room/room-form9.png",littleInfo:r.a.createElement("div",{className:"submit-signup"},r.a.createElement("button",{className:"faux-button-l",onClick:m},"Back"),r.a.createElement("button",{className:"faux-button-r",onClick:function(t){t.preventDefault();var a=new FormData;if(a.append("owner",e.userInSession._id),a.append("property",c.property),a.append("location",JSON.stringify(c.location)),a.append("price",c.price),a.append("size",c.size),a.append("availability",c.availability),a.append("flatmates",JSON.stringify(c.flatmates)),a.append("bedrooms",c.bedrooms),a.append("bathrooms",c.bathrooms),a.append("pets",c.pets),a.append("smokers",c.smokers),a.append("amenities",JSON.stringify(c.amenities)),a.append("tolerance",JSON.stringify(c.tolerance)),a.append("title",c.title),a.append("description",c.description),null!==c.files)for(var n=0,r=Object.keys(c.files);n<r.length;n++){var o=r[n];a.append("images",c.files[o])}else a.append("images",c.images);g.a.post("".concat("https://roomer-app.herokuapp.com/","/rooms/add"),a,{withCredentials:!0}).then((function(){e.history.push("/")})).catch((function(e){return l((function(t){return Object(h.a)(Object(h.a)({},t),{},{errorMessage:e.response.data.message})}))}))}},"Send"))}):r.a.createElement(x,null)},Z=function(e){var t=Object(n.useState)({roomsList:[],filteredRooms:[],search:"",toggle:!1}),a=Object(o.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){g.a.get("".concat("https://roomer-app.herokuapp.com/","/rooms")).then((function(e){l((function(t){return Object(h.a)(Object(h.a)({},t),{},{roomsList:e.data,filteredRooms:e.data})}))})).catch((function(e){return l((function(t){return Object(h.a)(Object(h.a)({},t),{},{errorMessage:e.response.data.message})}))}))}),[]);var s=c.filteredRooms.map((function(t){return r.a.createElement(_,{key:t._id,userInSession:e.userInSession,setUserSession:e.setUserSession,_id:t._id,roomImg:t.images[0],ownerImg:t.owner.imageUrl,ownerId:t.owner._id,ownerName:t.owner.name,ownerAge:t.owner.age,address:t.location.direction,price:t.price})}));return c.errorMessage?r.a.createElement(x,null):r.a.createElement("main",{className:"rooms-page"},r.a.createElement("div",{className:"container-search"},r.a.createElement(p.a,{icon:f.n.faSearchLocation}),r.a.createElement("input",{name:"search",type:"search",placeholder:"Search location...",className:"searchbar",onChange:function(e){var t=e.target,a=t.value.toLowerCase(),n=c.roomsList.filter((function(e){return e.location.direction.toLowerCase().includes(a)}));l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(E.a)({filteredRooms:n},t.name,t.value))}))},"aria-label":"Search"})),r.a.createElement("h6",{onClick:function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{toggle:!e.toggle})}))}},"Order by ",c.toggle?r.a.createElement(p.a,{icon:f.n.faArrowUp}):r.a.createElement(p.a,{icon:f.n.faArrowDown})),c.toggle?r.a.createElement("div",{className:"container-order"},r.a.createElement("div",{className:"o-col-1"},r.a.createElement("h6",{onClick:function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{filteredRooms:e.filteredRooms.sort((function(e,t){return e.price>t.price?1:-1}))})}))}}," Price ",r.a.createElement(p.a,{icon:f.n.faArrowDown})),r.a.createElement("h6",{onClick:function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{filteredRooms:e.filteredRooms.sort((function(e,t){return e.price<t.price?1:-1}))})}))}}," Price ",r.a.createElement(p.a,{icon:f.n.faArrowUp})),r.a.createElement("h6",{onClick:function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{filteredRooms:e.filteredRooms.sort((function(e,t){return e.availability>t.availability?1:-1}))})}))}}," Availability (Sooner)"),r.a.createElement("h6",{onClick:function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{filteredRooms:e.filteredRooms.sort((function(e,t){return e.amenities.daccess===t.amenities.daccess?0:e.amenitites.smokers?-1:1}))})}))}}," Adapted access ",r.a.createElement(p.a,{icon:f.n.faArrowDown}))),r.a.createElement("div",{className:"o-col-2"},r.a.createElement("h6",{onClick:function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{filteredRooms:e.filteredRooms.sort((function(e,t){return e.bedrooms<t.bedrooms?1:-1}))})}))}}," N\xba rooms ",r.a.createElement(p.a,{icon:f.n.faArrowUp})),r.a.createElement("h6",{onClick:function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{filteredRooms:e.filteredRooms.sort((function(e,t){return e.bedrooms>t.bedrooms?1:-1}))})}))}}," N\xba rooms ",r.a.createElement(p.a,{icon:f.n.faArrowDown})),r.a.createElement("h6",{onClick:function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{filteredRooms:e.filteredRooms.sort((function(e,t){return e.tolerance.pets===t.tolerance.pets?0:e.tolerance.pets?-1:1}))})}))}}," Allows pets ",r.a.createElement(p.a,{icon:f.n.faArrowDown})),r.a.createElement("h6",{onClick:function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{filteredRooms:e.filteredRooms.sort((function(e,t){return e.tolerance.smokers===t.tolerance.smokers?0:e.tolerance.smokers?-1:1}))})}))}}," Allows smokers ",r.a.createElement(p.a,{icon:f.n.faArrowDown})))):null,r.a.createElement("div",{className:"container-roomlist"},s),r.a.createElement(A,{userInSession:e.userInSession}))},K=function(e){var t=Object(n.useState)({}),a=Object(o.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){g.a.get("".concat("https://roomer-app.herokuapp.com/","/userprofile/").concat(e.match.params.id)).then((function(e){l(e.data)})).catch((function(e){return console.log("Error while retrieving the user's data: ",e)}))}),[e.match.params.id]),c!=={}?r.a.createElement("div",{className:"container-userinfo"},r.a.createElement("section",{className:"banner-top"},r.a.createElement("div",{className:"user-img"},r.a.createElement("img",{alt:"user",src:c.imageUrl})),r.a.createElement("div",{className:"user-title"},r.a.createElement("h2",null,c.name," ",c.surname),r.a.createElement("h4",null,c.occupation))),r.a.createElement("section",{className:"user-description"},r.a.createElement("div",{className:"user-presentation"},r.a.createElement("p",null,c.description)),r.a.createElement("div",{className:"social-links"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:c.socials?"https://".concat(c.socials.facebook):"/"},r.a.createElement("img",{alt:"facebook",src:"/icons/facebook.png"})),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:c.socials?"https://".concat(c.socials.twitter):"/"},r.a.createElement("img",{alt:"twitter",src:"/icons/twitter.png"})),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:c.socials?"https://".concat(c.socials.instagram):"/"},r.a.createElement("img",{alt:"instagram",src:"/icons/instagram.png"})))),r.a.createElement("section",{className:"characteristics-list"},r.a.createElement("h2",null,"Characteristics"),r.a.createElement("ul",null,void 0!==c.characteristics?c.characteristics.map((function(e){return r.a.createElement("li",{key:e},e)})):null)),r.a.createElement(A,{userInSession:e.userInSession})):r.a.createElement(x,null)},$=function(e){var t=e.setUserSession;return Object(n.useLayoutEffect)((function(){g.a.post("".concat("https://roomer-app.herokuapp.com/","/auth/logout")).then((function(){t({loggedInUser:{_id:null}})})).catch((function(e){return console.log(e)}))}),[t]),r.a.createElement(s.a,{to:"/"})},X=function(e){var t=Object(n.useState)({toggle:!1}),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(s.g)(),m=e.offers.map((function(t){return r.a.createElement("div",{className:"offer-message",key:"".concat(t.offeror._id,"data")},r.a.createElement("h6",null,"Message ",e.type,": ","from"===e.type?"".concat(t.offeror.name," ").concat(t.offeror.surname):"".concat(e.roomOwner.name," ").concat(e.roomOwner.surname)),r.a.createElement("p",null,t.message))}));return r.a.createElement("div",{className:"offer-info"},r.a.createElement("div",{className:"offer-banner",style:{background:"url(".concat(e.roomImg,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}},r.a.createElement("h2",null,e.roomTitle)),void 0!==e.offers[0]?m:r.a.createElement("div",{className:"offer-message"},r.a.createElement("h6",null,"You haven't recieved any offers for that room yet")),e.roomOwner?r.a.createElement("p",{onClick:function(){l((function(e){return{toggle:!e.toggle}}))},style:{color:"#f74d4d",padding:0,marginBottom:"5px"}},"Retrieve offer"):null,c.toggle?r.a.createElement("div",{className:"offer-warning"},r.a.createElement("p",null,"Are you sure that you want to retrieve your offer?"),r.a.createElement("button",{onClick:function(){g.a.put("".concat("https://roomer-app.herokuapp.com/","/rooms/").concat(e.roomId,"/deleteOffer"),{userId:e.userId},{withCredentials:!0}).then((function(){return i.go(0)}))},className:"delete-account"},"Delete")):null,void 0!==e.offers[0]?r.a.createElement("p",null,e.callText):null)},ee=function(e){var t=Object(n.useState)({recieved:[],recievedCheck:!1,sent:[],sentCheck:!1,offersToggle:!1,deleteToggle:!1}),a=Object(o.a)(t,2),c=a[0],l=a[1];Object(n.useEffect)((function(){g.a.get("".concat("https://roomer-app.herokuapp.com/","/rooms/userAds/").concat(e.match.params.id)).then((function(e){l((function(t){return Object(h.a)(Object(h.a)({},t),{},{recieved:e.data,recievedCheck:!0})}))})).catch((function(e){return console.log(e)}))}),[e.match.params.id]),Object(n.useEffect)((function(){g.a.get("".concat("https://roomer-app.herokuapp.com/","/rooms/userOffers/").concat(e.match.params.id)).then((function(e){l((function(t){return Object(h.a)(Object(h.a)({},t),{},{sent:e.data,sentCheck:!0})}))})).catch((function(e){return console.log(e)}))}),[e.match.params.id]);var s=function(){l((function(e){return Object(h.a)(Object(h.a)({},e),{},{offersToggle:!e.offersToggle})}))},i=c.recieved.map((function(e){return r.a.createElement(X,{key:"".concat(e._id,"ad"),type:"from",roomImg:e.images[0],roomTitle:e.title,offers:e.offers,callText:"Check your email for the full details of the offer"})})),m=c.sent.map((function(t){return r.a.createElement(X,{key:"".concat(t._id,"of"),type:"to",setState:l,userId:e.match.params.id,roomId:t._id,roomImg:t.images[0],roomTitle:t.title,roomOwner:t.owner,offers:t.offers,callText:"Check your email for the full details of the offer"})}));return c.recievedCheck&&c.sentCheck?r.a.createElement("main",{className:"offers"},r.a.createElement("div",{className:"offers-controllers"},r.a.createElement("h3",null,"Offers:"),r.a.createElement("h4",{onClick:s,style:c.offersToggle?null:{textDecoration:"underline"}},"Recieved"),r.a.createElement("h4",{onClick:s,style:c.offersToggle?{textDecoration:"underline"}:null},"Sent")),r.a.createElement("section",{className:"offers-list"},c.offersToggle?m:i),r.a.createElement(A,{userInSession:e.userInSession})):r.a.createElement(x,null)},te=function(e){var t=Object(n.useState)({message:""}),a=Object(o.a)(t,2),c=a[0],l=a[1];return null===e.userInSession._id?r.a.createElement(R,null):r.a.createElement("div",{style:{paddingTop:"40px"}},r.a.createElement(v,{title:"Make offer",subtitle:"Let's say the owner why!",image:"/images/offer.png",content:r.a.createElement("div",{className:"banner-content"},r.a.createElement("textarea",{name:"message",placeholder:"Send a message to the owner...",rows:"7",value:c.message,onChange:function(e){return function(e){var t=e.target;l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(E.a)({},t.name,t.value))}))}(e)},className:"input-big"}),c.errorMessage?r.a.createElement("h6",{className:"error"},"Error: ",c.errorMessage," "):null,r.a.createElement("button",{onClick:function(){var t=c.message,a=e.userInSession._id;g.a.put("".concat("https://roomer-app.herokuapp.com/","/rooms/").concat(e.match.params.id,"/newOffer"),{userId:a,message:t},{withCredentials:!0}).then((function(){return e.history.push("/rooms")})).catch((function(e){return l((function(t){return Object(h.a)(Object(h.a)({},t),{},{errorMessage:e.response.data.message})}))}))},className:"button-light-forms"},"Send offer!"))}),r.a.createElement(A,{userInSession:e.userInSession}))},ae=function(){var e=Object(n.useState)({loggedInUser:{_id:null}}),t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("user");e&&c(JSON.parse(e))}),[]),Object(n.useEffect)((function(){localStorage.setItem("user",JSON.stringify(a))})),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(d,Object.assign({},e,{userInSession:a}))}}),r.a.createElement(s.b,{exact:!0,path:"/auth/logout",render:function(e){return r.a.createElement($,Object.assign({},e,{setUserSession:c}))}}),r.a.createElement(s.b,{exact:!0,path:"/auth/login",render:function(e){return r.a.createElement(O,Object.assign({},e,{setUserSession:c}))}}),r.a.createElement(s.b,{exact:!0,path:"/auth/signup",render:function(e){return r.a.createElement(T,Object.assign({},e,{setUserSession:c}))}}),r.a.createElement(s.b,{path:"/user/:id",render:function(e){return r.a.createElement(K,Object.assign({},e,{userInSession:a}))}}),r.a.createElement(s.b,{exact:!0,path:"/userprofile/:id",render:function(e){return r.a.createElement(M,Object.assign({},e,{userInSession:a,setUserSession:c}))}}),r.a.createElement(s.b,{path:"/userprofile/:id/delete",render:function(e){return r.a.createElement(B,Object.assign({},e,{userInSession:a}))}}),r.a.createElement(s.b,{path:"/userprofile/:id/edit",render:function(e){return r.a.createElement(D,Object.assign({},e,{userInSession:a,setUserSession:c}))}}),r.a.createElement(s.b,{exact:!0,path:"/rooms/add",render:function(e){return r.a.createElement(V,Object.assign({},e,{userInSession:a}))}}),r.a.createElement(s.b,{exact:!0,path:"/rooms",render:function(e){return r.a.createElement(Z,Object.assign({},e,{userInSession:a,setUserSession:c}))}}),r.a.createElement(s.b,{exact:!0,path:"/rooms/:id",render:function(e){return r.a.createElement(J,Object.assign({},e,{userInSession:a,setUserSession:c}))}}),r.a.createElement(s.b,{exact:!0,path:"/rooms/:id/newOffer",render:function(e){return r.a.createElement(te,Object.assign({},e,{userInSession:a}))}}),r.a.createElement(s.b,{exact:!0,path:"/rooms/edit/:id",render:function(e){return r.a.createElement(z,Object.assign({},e,{userInSession:a,setUserSession:c}))}}),r.a.createElement(s.b,{exact:!0,path:"/rooms/delete/:id",render:function(e){return r.a.createElement(Y,Object.assign({},e,{userInSession:a}))}}),r.a.createElement(s.b,{exact:!0,path:"/offers/:id",render:function(e){return r.a.createElement(ee,Object.assign({},e,{userInSession:a}))}}),r.a.createElement(s.b,{component:I}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(i.a,null,r.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.0eb1feda.chunk.js.map